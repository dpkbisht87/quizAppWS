<h1 align="center">
<br>
  Quiz Application
  <br>
</h1>


## Table of Contents ##
1. [Application](#Application)
2. [Database Schema](#Database-Schema)
3. [Technology](#Technology)
4. [API Details](#API-Details)
5. [Run Locally](#Running-the-application-locally)
6. [Scope of Improvement](#Scope-of-improvement)

## Application ##
This application supports an online quiz with multiple choice questions.
The application uses H2 in-memory database and loads mock data from a sample file when the application starts.

## Database Schema ##
We have four Database schemas
1. Question - hold questions with primary key as autogenerated ID.
2. Answer - hold questions with primary key as autogenerated ID.
3. Solution - hold the solution for a question. It has composite key with questionId and answerId to make sure each question has unique answer.
4. UserSubmission - hold the answers selected/skipped by user.
5. Enums
   1. QuestionStatus - to hold the status of each question whether it is answered CORRECTLY, INCORRECTLY or SKIPPED.
   2. Lifeline - Will hold the lifelines of the quiz. Enum was preferred as we can add other type of lifelines later.

## Technology ##
Following libraries were used during the development of this application :
- **Spring Boot** - Server side framework
- **H2Database** - H2 in-memory database

## API Details ##
1. loadQuiz() - loads quiz with all questions in one shot. Preferred to load all instead of one to avoid the client making server API call after each answer submission.
2. saveAnswer() - Saves the current question's answer in the database. Preferred to save each submission to persist the ongoing quiz progress so that the user can resume after session disconnection

API for report generation 
1. generateUserStatistics() - Retrieve the submission user has made so far.
2. generateOverallStatistics() - Retrieve the submission made by all the users so far.
3. generateReportOfSpecificPeriod() - Retrieve the submission made by all the users in a given time period.
4. generateUserReportOfSpecificPeriod() (TBD) - Retrieve the submission made by the specific user in a given time period.

## Run Locally ##
Run `mvn spring-boot:run` from the project root directory.

## Scope of improvement ##
1. Timer lifeline logic should be implemented on client side. 
2. Fifty-fifty lifeline logic should be implemented on client side. 

   **_Implementing the above two logics on client side will save user's couple of seconds too._**
3. The API's can be secured with Spring's WebSecurityConfigurerAdapter.
4. Image type questions are not supported at the moment but can be supported by adding one more column in Question table holding the URL of image stored in object storage. We can have a check on client side to check if the url is not null then download the image.
5. The sample data hold only 4 questions so rendering all. If we have a large data set we can implement a logic to pick any 10 random questions and present the user.

## Contributors ##
Deepak Bisht

## License ##
None